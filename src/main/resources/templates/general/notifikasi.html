<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Notifikasi | UBeli</title>

    <!-- Global Navbar Style -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Notifikasi Style -->
    <link rel="stylesheet" href="/css/notifikasi.css">

    <link rel="stylesheet" 
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- NAVBAR (SAMA DENGAN HOME) -->
     <div th:replace="fragments/navbar :: navbar"></div>

    <!-- AREA NOTIFIKASI -->
    <main class="container">

        <!-- FILTER KATEGORI -->
        <div class="notif-filter">
            <a th:href="@{/notifikasi/jual}" 
               class="filter-btn"
               th:classappend="${filter=='jual'} ? ' active' : ''">
               Jual
            </a>

            <a th:href="@{/notifikasi/beli}" 
               class="filter-btn"
               th:classappend="${filter=='beli'} ? ' active' : ''">
               Beli
            </a>

            <a th:href="@{/notifikasi/pembayaran}" 
               class="filter-btn"
               th:classappend="${filter=='pembayaran'} ? ' active' : ''">
               Pembayaran
            </a>

            <a th:href="@{/notifikasi/lainnya}" 
               class="filter-btn"
               th:classappend="${filter=='lainnya'} ? ' active' : ''">
               Lainnya
            </a>
        </div>

        <!-- LIST NOTIFIKASI -->
        <div th:each="n : ${listNotif}" class="notif-card">

            <!-- Avatar -->
            <div class="notif-avatar"></div>

            <!-- Isi Notifikasi -->
            <div class="notif-content">
                <h4 th:text="${n.judul}">Hassan tertarik dengan produk Anda</h4>

                <p class="notif-sub" th:text="${n.subJudul}">
                    iPhone 17 256GB Like New
                </p>

                <span class="notif-time" th:text="${n.waktu}">
                    29-10-2025 14:00
                </span>
            </div>

            <!-- Badge Status -->
            <span class="notif-status diterima"  th:if="${n.status == 'DITERIMA'}">Diterima</span>
            <span class="notif-status ditolak"   th:if="${n.status == 'DITOLAK'}">Ditolak</span>
            <span class="notif-status menunggu"  th:if="${n.status == 'MENUNGGU'}">Menunggu</span>

            <!-- Tombol Aksi untuk TAB JUAL -->
            <div class="notif-actions" 
                 th:if="${filter == 'jual' and n.status == 'MENUNGGU'}">
                <button class="btn-tolak">Tolak</button>
                <button class="btn-terima">Terima</button>
            </div>

            <!-- Tombol Aksi untuk TAB BELI (status diterima) -->
            <div class="notif-actions"
                 th:if="${filter == 'beli' and n.status == 'DITERIMA'}">
                <button class="btn-primary">Lanjutkan Transaksi</button>
                <button class="btn-cancel">Batal</button>
            </div>

        </div>

    </main>

</body>
</html>
